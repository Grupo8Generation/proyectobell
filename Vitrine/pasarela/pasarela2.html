<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href= "C:\Users\Mauricio\Desktop\proyecto\pasarela\pasarela2.css">
  <title>Ejemplo de página con Bootstrap</title>
  <style>
    .body {
      font-family: 'Cabin', sans-serif;
    }
    .rosado {
      background-color: #F9EAEA;
      color:  #602F6B;
    }

    .fuxia {
      background-color:  #602F6B;
      color: white; 
    }
  </style>
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-7 col-7 rosado" style="padding-left: 135px; padding-right:50px;">
        <div style="display: flex; justify-content: center;">
            <img src="C:\Users\Mauricio\Desktop\proyecto\Logo_Marca.png" alt="Imagen" width="200" height="200">
        </div>       
           <div class="btn-group d-flex mb-3" style="display: flex; justify-content: center;">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <!-- siki carrito y informacion pueden ser dirigidas -->
              <li class="breadcrumb-item"><a href="https://www.google.cl" style="color: #602F6B;">Carrito</a></li>
              <span class="separator">/</span>
              <li class="breadcrumb-item"><a href="https://www.google.cl" style="color: #602F6B;">Información</a></li>
              <span class="separator">/</span>
              <li class="breadcrumb-item"><a href="#" style="color: #602F6B;">Pago</a></li>
            </ol>
          </nav>
        </div>
        
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
            <li class="breadcrumb-item" style="--bs-breadcrumb-divider: '<';" aria-label="breadcrumb"><a href="C:\Users\Mauricio\Desktop\Carrito 1\index.html" style="color: #602F6B;"> < Volver al carrito</a></li>
            </nav>
            </ol>
        </nav>    
        <h3>Email</h3>
        <div class="mb-3">
          <!-- aquí traemos el Email del cliente. -->
         <!--  <h5 id="email-capture">email@cliente.com</h5> -->
          <div class="mb-3">
            <input type="text" id="pais-input" class="form-control" placeholder="email@cliente.com">
          </div>
        </div>
        <h3>Dirección de Envío</h3>
        <!-- aquí traemos la direccion de envio del cliente. -->
        <div class="mb-3">
          <input type="text" id="pais-input" class="form-control" placeholder="Dirección de envío">
        </div>
        <div class="row mb-3">
          <div class="col">
            <h3>Método de Pago</h3>
            <input type="text" id="nombre-input" class="form-control" placeholder="Delivery a dirección ">
          </div>
        </div>
        <div class="mb-3" >
          <h3>Pago</h3>
        </div>
        <div class="mb-3 text-center">
         <p>las operaciones son encriptadas y segura a la hora de pagar.</p>          
        </div>
          <div class="col text-center">
            <h5>Nombre del titular: Bell-Tejidos con Amor</h5>
          </div>
        <div class="col text-center">
          <h5>Banco: Banco Santander</h5>
        </div>
        <div class="col text-center">
          <h5>Tipo de Cuenta: Cuenta Corriente</h5>
        </div>
        <div class="col text-center">
          <h5>Núnmero de Cuenta: Cuenta Corriente</h5>
        </div>
        <div class="mb-3 text-center">
        </div>
        <div class="mb-3 text-center">
          <h5>Teléfono Bell: 9-xxxxxxxx</h5>
        </div>
        <div class="form-check mb-3">
          <div class="form-check">
            <div class="mb-3 text-center">
              <p>asegurate de realizar tu transferencia y confirmar con el botón realicé mi transferencia</p>
            </div>
          </div>
        </div>
        <h4><a id="realice-transferencia" href="C:\Users\Mauricio\Desktop\proyecto\pasarela\pasarela3.html" class="btn btn-primary btn-block">Realicé mi transferencia</a></h4>
        </div>        
        <!-- Aquí viene la mitad morada del container -->
      <div class="col-lg-5 col-5 fuxia" style="padding-left: 70px; padding-right:30px;">
        <div class="row">
          <div class="col-4">
            <img src="C:\Users\Mauricio\Desktop\proyecto\IMAGEN_PRODUCTO.png" alt="Imagen Producto" class="img-fluid" width="150" height="150" style="padding-top: 200px; padding-left: 5px; padding-bottom: 10px">
          </div>
          <div class="col-8">
            <div class="custom-text">
              <h6 class="text-end mb-3" style="padding-top: 250px; padding-right:130px; font-size: 18px">Producto: Muñeca amigurumi</h6>
              <h6 class="text-end mb-0" style="padding-right: 25px;padding-right:250px;  font-size: 18px">Precio: $10.000</h6>
            </div>
          </div>
        </div>
        <div class="mb-3">
          <div class="row">
            <div class="col-lg-12 fuxia">
              <hr>
              <h6 style="font-family: 'Cabin', sans-serif">Subtotal: $10.000</h6>
              <h6 style="font-family: 'Cabin', sans-serif">Envíos: $5.000</h6>
              <hr>
              <h6 style="font-family: 'Cabin', sans-serif">Total: CLP $15.000</h6>
              <span style="font-size: 0.7em;  font-family: 'Cabin', sans-serif">IVA incluido</span>
            </div>
            <div class="col-lg-4 fuxia">
            </div>
          </div>
        </div>
      </div>
    <div class="row">
        <!-- Aquí puedes agregar el contenido adicional que desees mostrar en el lado derecho -->
      </div>
    </div>
  </div>
  <script>
// Evento que se ejecuta cuando la página se carga
window.onload = function() {
  // Obtiene el email del almacenamiento local
  const clienteEmail = localStorage.getItem('clienteEmail');

  // Si hay un email guardado, lo muestra en el párrafo correspondiente
  if (clienteEmail) {
    const emailCapture = document.getElementById('email-capture');
    emailCapture.textContent = clienteEmail;
  }
};
  </script>
  <script>
    // Agrega el código JavaScript adicional que necesites para implementar la funcionalidad de la página
    <div class="container-fluid addicional">
      <!-- Espacio adicional al final de la página con fondo y color específicos -->
    </div>
  </script>
<!-- ##################################################################################################################################### -->
  <!-- Aquí guardamos los datos en el local store y luego enviamos los datos al vendedor para que obtenga los datos de la compra-->
  <script>
    // Evento que se ejecuta cuando la página se carga
    window.onload = function() {
      // Obtiene el email del almacenamiento local
      const clienteEmail = localStorage.getItem('clienteEmail');
  
      // Si hay un email guardado, lo muestra en el párrafo correspondiente
      if (clienteEmail) {
        const emailCapture = document.getElementById('email-capture');
        emailCapture.textContent = clienteEmail;
      }
  
      // Obtén el enlace "Realicé mi transferencia" por su id
      const realiceTransferenciaLink = document.getElementById('realice-transferencia');
  
      // Agrega un evento de clic al enlace
      realiceTransferenciaLink.addEventListener('click', function() {
        // Obtén los datos del formulario
        const clienteEmail = document.getElementById('email-capture').textContent;
        const direccionEnvio = document.getElementById('pais-input').value;
        const metodoPago = document.getElementById('nombre-input').value;
  
        // Envía los datos del cliente al servidor utilizando fetch y la ruta "/compra"
        fetch('/compra', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            nombre: clienteEmail,
            correo: clienteEmail,
            producto: `Muñeca amigurumi | Dirección de envío: ${direccionEnvio} | Método de Pago: ${metodoPago}`
          })
        })
        .then(response => response.json())
        .then(data => {
          // Muestra un mensaje al usuario para indicar que se envió el correo
          alert('¡Correo enviado correctamente! Gracias por tu compra.');
          // Aquí puedes redirigir al usuario a una página de confirmación o a cualquier otra página que desees
          window.location.href = 'file:///C:/Users/Mauricio/Desktop/proyecto/pasarela/pasarela3.html';
        })
        .catch(error => {
          // Si ocurre un error, muestra un mensaje al usuario
          alert('Error al enviar el correo. Inténtalo nuevamente más tarde.');
        });
      });
    };
  </script>
<!-- ##################################################################################################################################### -->


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>
</html>
